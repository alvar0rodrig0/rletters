- user_pending_count = AnalysisTask.joins(:dataset).where(finished_at: nil, datasets: { user_id: current_user.to_param }).count
- if user_pending_count > 0
  .alert-box.radius= t('.tasks', count: user_pending_count)

%table
  %thead
    %tr
      %th= t('.name_column')
      %th
  %tbody
    - unless @datasets.count
      %tr
        %th= t('.no_datasets')
        %th
    - else
      - @datasets.each do |dataset|
        %tr
          %td
            = dataset.name
            %span.secondary.round.label= dataset.entries.size
          %td
            = link_to t('.manage_button'), dataset, class: 'button tiny'
            = link_to t('.delete_button'), dataset, method: :delete, data: { confirm: t('.delete_confirm') }, class: 'button alert tiny'
