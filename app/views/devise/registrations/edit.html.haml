- content_for :breadcrumbs do
  %li= link_to t('breadcrumbs.root'), root_path
  %li.active= t('breadcrumbs.users_registrations_edit')

%h1= t('.header')
%h4.text-muted= t('.subheader')

.row
  .col-6
    = simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
      = f.error_notification

      = f.input :name, required: true, autofocus: true
      = f.input :email, required: true
      = f.input :current_password, required: true

      = field_set_tag t('.change_password') do
        = f.input :password, autocomplete: 'off', hint: t('.password_placeholder'), required: false
        = f.input :password_confirmation, required: false

      = field_set_tag t('.settings') do
        = f.input :language, required: true, collection: I18n.available_locales.translated
        = f.input :timezone, required: true, collection: ActiveSupport::TimeZone.all, label_method: :to_s, value_method: :name
        = f.input :csl_style_id, collection: Users::CslStyle.all, label_method: :name, value_method: :to_param

      = link_to t('.cancel'), registration_path(resource_name), data: { confirm: t('.cancel_confirm') }, method: :delete, class: 'btn btn-danger pull-right'

      = f.button :submit, t('.submit')

.row
  .col-12
    %hr

    %h2= t('.library_links_header')
    %h5.text-muted= t('.library_links_subheader')

    %div#library-list{ data: { fetch_url: libraries_path } }= render template: 'users/libraries/index', layout: false
